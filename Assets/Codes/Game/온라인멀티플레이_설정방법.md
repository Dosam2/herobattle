# 실시간 온라인 1:1 멀티플레이 설정 방법

## 1. Photon PUN 2 설치

1. **Unity 에셋 스토어**에서 `PUN 2` 또는 `Photon PUN 2 FREE` 검색 후 **다운로드/임포트**.
2. 또는 **Package Manager** → **Add package from git URL** (Photon에서 제공하는 Git URL 사용 시).

## 2. Photon 앱 ID 발급

1. [Photon 엔진 대시보드](https://dashboard.photonengine.com/) 접속 후 로그인.
2. **Create a new application** → **Photon PUN 2 (Unity)** 선택.
3. 생성된 앱의 **AppId**를 복사.

## 3. 프로젝트에 AppId 설정

1. Unity 메뉴 **Window** → **Photon Unity Networking** → **PUN Wizard** (또는 **Photon** → **Setup**).
2. **Setup** 탭에서 복사한 **AppId** 붙여넣기.
3. **Setup Project** 실행 → `PhotonServerSettings` 에셋이 생성되고 AppId가 저장됨.

## 4. 게임에서 온라인 멀티 사용

1. **MultiplayerManager**가 붙어 있는 오브젝트 선택 (예: GameManager).
2. 인스펙터에서 **Use Online Match** 체크.
3. **1:1 PVP** 버튼을 누르면 Photon 접속 후 **JoinOrCreateRoom("1v1")** 로 룸 입장.
4. **P1**: 룸을 만들고 상대가 들어올 때까지 대기 → 상대 입장 시 EnemyBase·Player2 생성.
5. **P2**: 룸에 입장하면 바로 자신의 Player2·EnemyBase 생성.

## 5. 두 명이 접속해서 대결하는 방법

- **방법 A (두 기기)**  
  - 같은 프로젝트로 **Android 빌드** 2개를 두 휴대폰에 설치.  
  - 둘 다 실행 후 **1:1 PVP** → 같은 Photon 앱/리전 사용 시 같은 룸("1v1")에 들어가면 1:1 대결.

- **방법 B (PC 두 창)**  
  - **빌드** 한 번 만든 뒤, 그 빌드 실행 파일을 **두 번 실행** (두 개의 게임 창).  
  - 각 창에서 **1:1 PVP** 선택 → 같은 룸에 입장하면 1:1 대결.

- **방법 C (에디터 + 빌드)**  
  - Unity **플레이 모드** 한 개 + **빌드 실행** 한 개.  
  - 둘 다 **1:1 PVP** → 같은 룸에 입장.

## 6. 주의사항

- **Photon 미설치 시**: `Use Online Match`를 끄면 기존처럼 **로컬 매칭**만 동작 (P2는 같은 기기에서 방향키로 조작).
- **방 이름**: 현재 코드는 룸 이름 `"1v1"` 고정. 다른 방 이름이 필요하면 `OnlineRoomManager.JoinOrCreateRoom` 쪽에서 roomName을 바꾸면 됨.
- **동기화**: 현재는 입장/생성만 연동됨. 플레이어·유닛 위치, HP 등을 실시간으로 맞추려면 **PhotonView**를 Player, Base, 유닛에 붙이고 Transform·HP 동기화 스크립트를 추가해야 함.
